
<div align="right">
  <details>
    <summary >🌐 Language</summary>
    <div>
      <div align="center">
        <a href="https://openaitx.github.io/view.html?user=eze-is&project=ai-partner-chat&lang=en">English</a>
        | <a href="https://openaitx.github.io/view.html?user=eze-is&project=ai-partner-chat&lang=zh-CN">简体中文</a>
        | <a href="https://openaitx.github.io/view.html?user=eze-is&project=ai-partner-chat&lang=zh-TW">繁體中文</a>
        | <a href="https://openaitx.github.io/view.html?user=eze-is&project=ai-partner-chat&lang=ja">日本語</a>
        | <a href="https://openaitx.github.io/view.html?user=eze-is&project=ai-partner-chat&lang=ko">한국어</a>
        | <a href="https://openaitx.github.io/view.html?user=eze-is&project=ai-partner-chat&lang=hi">हिन्दी</a>
        | <a href="https://openaitx.github.io/view.html?user=eze-is&project=ai-partner-chat&lang=th">ไทย</a>
        | <a href="https://openaitx.github.io/view.html?user=eze-is&project=ai-partner-chat&lang=fr">Français</a>
        | <a href="https://openaitx.github.io/view.html?user=eze-is&project=ai-partner-chat&lang=de">Deutsch</a>
        | <a href="https://openaitx.github.io/view.html?user=eze-is&project=ai-partner-chat&lang=es">Español</a>
        | <a href="https://openaitx.github.io/view.html?user=eze-is&project=ai-partner-chat&lang=it">Italiano</a>
        | <a href="https://openaitx.github.io/view.html?user=eze-is&project=ai-partner-chat&lang=ru">Русский</a>
        | <a href="https://openaitx.github.io/view.html?user=eze-is&project=ai-partner-chat&lang=pt">Português</a>
        | <a href="https://openaitx.github.io/view.html?user=eze-is&project=ai-partner-chat&lang=nl">Nederlands</a>
        | <a href="https://openaitx.github.io/view.html?user=eze-is&project=ai-partner-chat&lang=pl">Polski</a>
        | <a href="https://openaitx.github.io/view.html?user=eze-is&project=ai-partner-chat&lang=ar">العربية</a>
        | <a href="https://openaitx.github.io/view.html?user=eze-is&project=ai-partner-chat&lang=fa">فارسی</a>
        | <a href="https://openaitx.github.io/view.html?user=eze-is&project=ai-partner-chat&lang=tr">Türkçe</a>
        | <a href="https://openaitx.github.io/view.html?user=eze-is&project=ai-partner-chat&lang=vi">Tiếng Việt</a>
        | <a href="https://openaitx.github.io/view.html?user=eze-is&project=ai-partner-chat&lang=id">Bahasa Indonesia</a>
        | <a href="https://openaitx.github.io/view.html?user=eze-is&project=ai-partner-chat&lang=as">অসমীয়া</
      </div>
    </div>
  </details>
</div>

# AI Partner Chat

一个 Claude Skills 项目，让 AI 成为你的个性化对话伙伴。

## 项目简介

AI Partner Chat 通过整合用户画像、AI 画像和向量化的个人笔记，提供个性化的、上下文感知的对话体验。这个技能让 AI 能够记住并引用你之前的想法、偏好和知识库，创造出更加连贯和个性化的交互体验。

## 核心功能

### 🎭 双画像系统
- **用户画像**：定义你的背景、专长、兴趣和沟通偏好
- **AI 画像**：定制 AI 的角色定位、沟通风格和交互方式

### 📝 智能笔记检索
- 自动索引你的 Markdown 笔记
- 根据对话内容智能检索相关历史记录
- 在对话中自然引用你的过往想法和笔记

### 💬 个性化对话
- 基于你的画像和笔记生成个性化回应
- 保持对话的上下文连贯性
- 像朋友一样自然地引用你的想法，而非机械地"根据记录"

## 使用场景

当你需要：
- 个性化交流，而非通用回复
- 上下文感知的回应，AI 能记住你的背景
- AI 记住并引用你之前的想法和笔记
- 持续性的对话体验，而非每次都是全新开始

## 安装与使用

### 安装技能

将此项目复制到你的工作目录下的 `.claude/skills/` 文件夹中：

```
<你的项目根目录>/
└── .claude/
    └── skills/
        └── ai-partner-chat/    # 本技能包
            ├── assets/
            ├── scripts/
            ├── SKILL.md
            └── README.md
```

### 使用技能

在 Claude Code 中，发送以下指令即可启用此技能：

```
遵循 ai-partner-chat 对话
```

AI agent 会自动：
- 读取技能配置和指引
- 创建必要的目录结构（`notes/`、`config/`、`vector_db/` 等）
- 根据你的需求进行初始化

### 初始化流程

#### 方式一：让 AI 自动创建并配置

首次使用时，直接告诉 AI：

```
我刚刚在 notes 里放入了对应的笔记，请根据笔记内容，进行向量化；并基于笔记内容，推测并更新 user-persona.md，以及最适合我的 ai-persona.md
```

AI agent 会：
1. 分析 `notes/` 目录中的笔记内容
2. 根据笔记格式智能分块并创建向量数据库
3. 基于笔记内容推测你的背景和偏好
4. 自动生成并更新 `config/user-persona.md`
5. 根据你的特点推荐并创建 `config/ai-persona.md`

#### 方式二：手动配置画像

如果你想自己定义画像：
1. AI agent 会自动从模板创建画像文件到 `config/` 目录
2. 你可以手动编辑这些文件来定制画像
3. 然后告诉 AI 进行向量化处理

### 开始对话

配置完成后，每次使用只需发送：

```
遵循 ai-partner-chat 对话
```

AI 将：
- 读取你的画像了解你的背景
- 检索相关的历史笔记
- 生成个性化的、上下文感知的回应

## 项目结构

### 技能包结构（位于 `.claude/skills/ai-partner-chat/`）

```
ai-partner-chat/
├── assets/              # 画像模板
│   ├── user-persona-template.md
│   └── ai-persona-template.md
├── scripts/             # 核心脚本
│   ├── chunk_schema.py
│   ├── vector_indexer.py
│   ├── vector_utils.py
│   └── requirements.txt
├── SKILL.md            # 技能详细文档（AI agent 会读取此文件）
└── README.md           # 本文件
```

### 用户数据目录（位于项目根目录）

AI agent 会在你的项目根目录创建以下结构：

```
<项目根目录>/
├── notes/              # 你的笔记（由你或 AI agent 创建）
├── config/             # 画像配置（由 AI agent 创建）
│   ├── user-persona.md
│   └── ai-persona.md
├── vector_db/          # 向量数据库（由 AI agent 创建）
└── venv/               # Python 虚拟环境（由 AI agent 创建）
```

**重要**：用户数据与技能包分离，便于备份和迁移。

## 工作流程

1. **加载画像**：读取用户画像和 AI 画像，理解交互背景
2. **检索笔记**：根据用户查询，从向量数据库中检索最相关的笔记
3. **构建上下文**：整合画像信息、相关笔记和对话历史
4. **生成回应**：基于上下文生成个性化、自然的回应

## 特色亮点

### 🤖 AI Agent 智能分块
系统会分析每篇笔记的实际格式，动态生成最适合的分块策略，而非使用预设模板。这意味着无论你的笔记是什么格式，都能得到最优处理。

### 🎯 自然引用
AI 会像回忆一样自然地引入你的过往信息，不会生硬地说"根据记录"，而是流畅地融入对话中。

### 📦 数据独立
你的所有数据（笔记、画像、向量库）都存储在项目根目录，易于备份、迁移或在不同技能间共享。

## 最佳实践

### 画像设计
- **具体明确**：模糊的画像会导致通用回复
- **包含示例**：在 AI 画像中展示期望的交互模式
- **定期更新**：根据对话质量不断优化画像

### 笔记管理
- **格式自由**：系统能适应任何笔记结构
- **内容丰富**：有深度的笔记能带来更好的检索效果
- **及时更新**：新笔记记得添加到索引中

### 对话体验
- **自然引用**：只在真正相关时才引用笔记
- **保持流畅**：不要让引用打断对话的自然节奏
- **关注质量**：优先考虑有意义的连接，而非数量

## 维护与更新

### 添加新笔记
将新笔记放入 `notes/` 目录后，告诉 AI：

```
我刚刚在 notes 里添加了新笔记，请更新向量数据库
```

AI agent 会自动分析新笔记并更新索引。

### 更新画像
你可以直接编辑 `config/` 目录下的画像文件，或者告诉 AI：

```
请根据我最近的笔记内容，更新 user-persona.md 和 ai-persona.md
```

### 重建索引
当笔记结构发生重大变化时，告诉 AI：

```
请重新初始化向量数据库
```

AI agent 会重新分析所有笔记并重建索引。

## 注意事项

- **首次运行**：AI agent 首次创建向量数据库时会自动下载嵌入模型（约 4.3GB），请耐心等待
- **Python 环境**：AI agent 会自动创建虚拟环境并安装所需依赖
- **数据存储**：所有数据（笔记、画像、向量库）存储在项目根目录，而非技能包目录内
- **技能位置**：确保技能包位于 `.claude/skills/ai-partner-chat/` 目录下

## 更多信息

详细的技术文档和使用说明请参考 `SKILL.md` 文件。

---

让 AI 成为真正了解你的对话伙伴，而不仅仅是一个工具。

